<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Interactive 3D Website</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden; /* Hide scrollbars */
            font-family: 'Inter', sans-serif; /* Use Inter font */
            background-color: #1a202c; /* Dark background */
            color: #e2e8f0; /* Light text color */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh; /* Ensure full viewport height */
        }
        canvas {
            display: block; /* Remove extra space below canvas */
            width: 100vw; /* Take full viewport width */
            height: calc(100vh - 80px); /* Adjust height for header/footer if any, or full height */
            background-color: transparent; /* Let body background show through */
        }
        #loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            z-index: 1000;
        }
        .message-box {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #4a5568; /* Darker gray */
            color: #cbd5e0; /* Lighter gray */
            padding: 15px 30px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            display: none; /* Hidden by default */
            animation: fadeInOut 4s forwards;
        }

        @keyframes fadeInOut {
            0% { opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { opacity: 0; }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200">

    <div id="loading-overlay">Loading 3D Experience...</div>
    <div id="message-box" class="message-box"></div>

    <script type="module">
        // Import necessary Three.js components from CDN
        // Using 'module' type to allow ES module imports directly in the browser
        import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.module.js';
        import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.128.0/examples/jsm/controls/OrbitControls.js';

        let scene, camera, renderer, cube, controls;
        let loadingOverlay = document.getElementById('loading-overlay');
        let messageBox = document.getElementById('message-box');

        // Function to display messages to the user
        function showMessage(message) {
            messageBox.textContent = message;
            messageBox.style.display = 'block';
            setTimeout(() => {
                messageBox.style.display = 'none';
            }, 3000); // Hide after 3 seconds
        }

        // Initialize the 3D scene, camera, and renderer
        function init() {
            try {
                // Create the scene
                scene = new THREE.Scene();
                scene.background = null; // Transparent background to show body background

                // Set up the camera (perspective camera)
                // Field of view (FOV), aspect ratio, near clipping plane, far clipping plane
                camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.z = 5; // Position the camera back

                // Create the renderer and attach it to the DOM
                renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true }); // Enable antialiasing and alpha for transparency
                renderer.setSize(window.innerWidth, window.innerHeight); // Set renderer size to full window
                document.body.appendChild(renderer.domElement); // Add the renderer's canvas to the body

                // Add OrbitControls for interactive camera movement
                // This allows the user to rotate, pan, and zoom the camera with mouse/touch
                controls = new OrbitControls(camera, renderer.domElement);
                controls.enableDamping = true; // Enable smooth camera movement
                controls.dampingFactor = 0.05; // Damping intensity

                // Create a basic geometry (BoxGeometry for a cube)
                const geometry = new THREE.BoxGeometry(1, 1, 1);

                // Create a material (MeshStandardMaterial for physically-based rendering)
                // Use a color for the cube
                const material = new THREE.MeshStandardMaterial({ color: 0x0077ff, roughness: 0.5, metalness: 0.8 }); // Blue, shiny, metallic

                // Create the mesh (geometry + material)
                cube = new THREE.Mesh(geometry, material);
                scene.add(cube); // Add the cube to the scene

                // Add ambient light (lights all objects equally from all directions)
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.5); // White light, medium intensity
                scene.add(ambientLight);

                // Add directional light (simulates sunlight, with direction and intensity)
                const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8); // White light, brighter
                directionalLight.position.set(0, 5, 5); // Position the light
                scene.add(directionalLight);

                // Handle window resizing to keep the scene responsive
                window.addEventListener('resize', onWindowResize, false);

                // Hide loading overlay once scene is initialized
                loadingOverlay.style.display = 'none';
                showMessage("Drag to rotate, scroll to zoom!");

            } catch (error) {
                console.error("Error initializing 3D scene:", error);
                loadingOverlay.textContent = "Error loading 3D content.";
            }
        }

        // Function to handle window resizing
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight; // Update camera aspect ratio
            camera.updateProjectionMatrix(); // Update projection matrix after aspect ratio change
            renderer.setSize(window.innerWidth, window.innerHeight); // Update renderer size
            renderer.render(scene, camera); // Re-render the scene
        }

        // Animation loop for continuous rendering
        function animate() {
            requestAnimationFrame(animate); // Request the next frame

            // Update OrbitControls in each frame
            controls.update();

            // Rotate the cube on all axes
            cube.rotation.x += 0.005;
            cube.rotation.y += 0.005;
            cube.rotation.z += 0.002;

            renderer.render(scene, camera); // Render the scene
        }

        // Start the animation loop when the window loads
        window.onload = function() {
            init(); // Initialize everything
            animate(); // Start the animation loop
        };
    </script>
</body>
</html>